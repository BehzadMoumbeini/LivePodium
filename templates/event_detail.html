{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="max-w-6xl mx-auto">
    <!-- Hero Section -->
    <div class="relative rounded-2xl overflow-hidden shadow-2xl mb-12">
        {% if event.image %}
            <img src="{{ event.image.url }}" alt="{{ event.title }}" class="w-full h-96 object-cover">
        {% else %}
            <div class="bg-gradient-to-r from-primary to-secondary w-full h-96 flex items-center justify-center">
                <h2 class="text-white text-5xl font-bold">{{ event.title }}</h2>
            </div>
        {% endif %}
        <div class="absolute inset-0 bg-black bg-opacity-40 flex items-end">
            <div class="p-8 text-white">
                <h1 class="text-5xl font-bold mb-2">{{ event.title }}</h1>
                <p class="text-3xl">{{ event.artist }}</p>
            </div>
        </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
        <!-- Main Details -->
        <div class="lg:col-span-2">
            <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                <h3 class="text-3xl font-semibold text-primary mb-6">Event Informatie</h3>
                <div class="space-y-6 text-lg">
                    <p class="flex items-center">
                        <svg class="w-8 h-8 text-primary mr-4" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm10 6H4v8h12V8z" clip-rule="evenodd"/>
                        </svg>
                        <span class="font-medium">Datum & Tijd:</span> {{ event.date|date:"l d F Y, H:i" }}
                    </p>
                    <p class="flex items-center">
                        <svg class="w-8 h-8 text-primary mr-4" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
                        </svg>
                        <span class="font-medium">Locatie:</span> {{ event.venue.name }}, {{ event.venue.address }}, {{ event.venue.city }}
                    </p>
                    <div>
                        <span class="font-medium block mb-2">Beschrijving:</span>
                        <p class="text-gray-700 leading-relaxed">{{ event.description|linebreaks }}</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Buy Ticket Sidebar (Updated with Quantity Form) -->
        <div class="lg:col-span-1">
            <div class="bg-white rounded-xl shadow-lg p-8 sticky top-8">
                <h3 class="text-3xl font-bold text-primary mb-6">Bestel Tickets</h3>
                <p class="text-5xl font-bold text-secondary mb-4">€{{ event.price }} <span class="text-2xl">per ticket</span></p>
                
                <form method="post" action="{% url 'create_order' event.id %}" class="space-y-6">
                    {% csrf_token %}
                    <div>
                        <label for="quantity" class="block text-lg font-medium mb-2">Aantal tickets</label>
                        <select name="quantity" id="quantity" class="w-full border-2 border-gray-300 rounded-lg px-4 py-3 text-lg focus:border-primary focus:outline-none">
                            {% for i in "123456789" %}
                                <option value="{{ forloop.counter }}">{{ forloop.counter }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <button type="submit" class="w-full bg-secondary text-white text-2xl font-bold py-6 rounded-xl hover:bg-primary transition transform hover:scale-105 shadow-lg">
                        Naar Betalen
                    </button>
                </form>
                
                <div class="mt-8 text-gray-600 text-sm space-y-1">
                    <p>✓ Veilig via Mollie (iDEAL, Creditcard, etc.)</p>
                    <p>✓ Direct e-tickets per e-mail</p>
                    <p>✓ Inclusief servicekosten</p>
                </div>
                <p class="text-center text-sm text-gray-500 mt-6">Beperkte beschikbaarheid</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
